(function(e){function t(t){for(var a,o,l=t[0],c=t[1],s=t[2],d=0,k=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&k.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(k.length)k.shift()();return r.push.apply(r,s||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,l=1;l<i.length;l++){var c=i[l];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},n={app:0},r=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},1543:function(e,t,i){"use strict";i.r(t),i.d(t,"db",(function(){return c})),i.d(t,"auth",(function(){return s})),i.d(t,"currentUser",(function(){return u}));var a=i("8aa5"),n=i.n(a),r=(i("e71f"),i("2b0e")),o=i("0ff2");r["default"].use(o["a"]);var l={apiKey:"AIzaSyCPD2jS2RJ27c5bPZejHvZY6LnbgVBQgCg",authDomain:"varuska-da1f3.firebaseapp.com",databaseURL:"https://varuska-da1f3.firebaseio.com",projectId:"varuska-da1f3",storageBucket:"varuska-da1f3.appspot.com",messagingSenderId:"457715514543"};n.a.initializeApp(l);var c=n.a.firestore(),s=n.a.auth(),u=s.currentUser},"56d7":function(e,t,i){"use strict";i.r(t);i("744f"),i("6c7b"),i("7514"),i("20d6"),i("1c4c"),i("6762"),i("cadf"),i("e804"),i("55dd"),i("d04f"),i("c8ce"),i("217b"),i("7f7f"),i("f400"),i("7f25"),i("536b"),i("d9ab"),i("f9ab"),i("32d7"),i("25c9"),i("9f3c"),i("042e"),i("c7c6"),i("f4ff"),i("049f"),i("7872"),i("a69f"),i("0b21"),i("6c1a"),i("c7c62"),i("84b4"),i("c5f6"),i("2e37"),i("fca0"),i("7cdf"),i("ee1d"),i("b1b1"),i("87f3"),i("9278"),i("5df2"),i("04ff"),i("f751"),i("4504"),i("fee7"),i("ffc1"),i("0d6d"),i("9986"),i("8e6e"),i("25db"),i("e4f7"),i("b9a1"),i("64d5"),i("9aea"),i("db97"),i("66c8"),i("57f0"),i("165b"),i("456d"),i("cf6a"),i("fd24"),i("8615"),i("551c"),i("097d"),i("df1b"),i("2397"),i("88ca"),i("ba16"),i("d185"),i("ebde"),i("2d34"),i("f6b3"),i("2251"),i("c698"),i("a19f"),i("9253"),i("9275"),i("3b2b"),i("3846"),i("4917"),i("a481"),i("28a5"),i("386d"),i("6b54"),i("4f7f"),i("8a81"),i("ac4d"),i("8449"),i("9c86"),i("fa83"),i("48c0"),i("a032"),i("aef6"),i("d263"),i("6c37"),i("9ec8"),i("5695"),i("2fdb"),i("d0b0"),i("5df3"),i("b54a"),i("f576"),i("ed50"),i("788d"),i("14b9"),i("f386"),i("f559"),i("1448"),i("673e"),i("242a"),i("c66f"),i("b05c"),i("34ef"),i("6aa2"),i("15ac"),i("af56"),i("b6e4"),i("9c29"),i("63d9"),i("4dda"),i("10ad"),i("c02b"),i("4795"),i("130f"),i("ac6a"),i("96cf");var a=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"success"}},[i("b-navbar-brand",{attrs:{to:"/"}},[e._v("Statistika")]),i("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),i("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[i("b-navbar-nav",[i("b-nav-item",{attrs:{to:"/"}},[e._v("Domov\n                    "),i("fa-icon",{attrs:{icon:"home"}})],1),i("b-nav-item",{attrs:{to:"/zapisniki/"}},[e._v(e._s(e.allowEdit?"Zapisniki":"Pretekle tekme")+"\n                    "),i("fa-icon",{attrs:{icon:"pen"}})],1)],1),i("b-navbar-nav",{staticClass:"ml-auto"},[e.user?i("b-nav-item-dropdown",{attrs:{right:""}},[i("template",{slot:"button-content"},[i("em",[e._v(e._s(e.user.email))])]),i("b-dropdown-item",{on:{click:e.logOut}},[e._v("Izpis")])],2):i("b-nav-item",{attrs:{to:"/login/"}},[e._v("Prijava")])],1)],1)],1),i("router-view")],1)},r=[],o=i("8aa5"),l=i.n(o);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i("6672");var s={data:function(){return c({drawer:!1,footer_links:[],items:[{title:"Domov",icon:"home",link:"/"},{title:"Igralci",icon:"person",link:"/igralci/"},{title:"Statistika",icon:"insert_chart",link:"/statistika/"},{title:"Lestvica",icon:"sort",link:"/lestvica/"},{title:"Tekme",icon:"tv",link:"/tekme/"},{title:"Zapisniki",icon:"event_note",link:"/zapisniki/"},{title:"Vpis podatkov",icon:"note",link:"/datainput/",auth:!0}],right:null,social:[{icon:"fab fa-facebook",link:"http://www.facebook.com"},{icon:"fab fa-twitter",link:"/"},{icon:"fab fa-google-plus",link:"/"},{icon:"fab fa-linkedin",link:"/"},{icon:"fab fa-instagram",link:"/"}]},"right",null)},methods:{logOut:function(){l.a.auth().signOut(),this.$store.state.user=null,this.$router.go()}},computed:{user:function(){return this.$store.state.user},allowEdit:function(){return!!l.a.auth().currentUser&&"neki@neki.com"===l.a.auth().currentUser.email}},mounted:function(){}},u=s,d=i("2877"),k=Object(d["a"])(u,n,r,!1,null,null,null),p=k.exports,f=i("8c4f"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"justify-content-center"},[i("b-col",{attrs:{cols:"auto"}},e._l(e.ekipeZLogom,(function(t,a){return i("router-link",{key:a,attrs:{to:"/ekipe/"+t.id}},[t.logo?i("b-img",{attrs:{src:t.logo}}):e._e()],1)})),1)],1),i("b-row",{staticClass:"mb-5"},[i("b-col",[i("b-tabs",{attrs:{fill:""}},[i("b-tab",{attrs:{"title-link-class":"tab-item-link","title-item-class":"tab-item-home",title:"Zadnje tekme"}},[i("b-row",{staticClass:"my-3"},[i("b-col",[i("h3",{staticClass:"my-3"},[e._v("Zadnjih 20 vnešenih tekem")]),i("b-table",{attrs:{fields:e.tekmeFields,items:e.tekme},scopedSlots:e._u([{key:"cell(ekipa1)",fn:function(t){return[e._v("\n                                    "+e._s(e.ekipe.find((function(e){return e.id===t.value})).naziv)+"\n                                ")]}},{key:"cell(ekipa2)",fn:function(t){return[e._v("\n                                    "+e._s(e.ekipe.find((function(e){return e.id===t.value})).naziv)+"\n                                ")]}},{key:"cell(rezultat)",fn:function(t){return[e._v("\n                                    "+e._s(t.item.tocke1)+":"+e._s(t.item.tocke2)+"\n                                ")]}},{key:"cell(zapisnik)",fn:function(t){return[i("b-btn",{attrs:{to:"/zapisniki/"+t.item.id+"/",variant:"success"}},[e._v(e._s(e.allowEdit?"Zapisnik":"Rezultati"))])]}}])})],1)],1)],1),i("b-tab",{attrs:{"title-link-class":"tab-item-link","title-item-class":"tab-item-home",title:"Vodilni v statistiki"}},[i("b-row",{staticClass:"my-3"},[i("b-col",[i("h3",{staticClass:"my-3"},[e._v("Top 20")]),i("b-table",{attrs:{selectable:"","select-mode":"single",selectedVariant:"success",fields:e.liderjiFields,items:e.liderji.slice(0,20)},on:{"row-selected":e.liderSelected},scopedSlots:e._u([{key:"mesto",fn:function(t){return[e._v("\n                                    "+e._s(t.index+1)+"\n                                ")]}}])})],1)],1)],1)],1)],1)],1)],1)},b=[],v=i("1543"),h={name:"home",data:function(){return{ekipe:[],tekme:[],tekmeFields:[{key:"ekipa1",label:"Domači"},{key:"ekipa2",label:"Gostje"},{key:"rezultat"},{key:"zapisnik",label:""}],liderji:[],rezultati:[],igralci:[],liderjiFields:[{key:"mesto",label:""},{key:"priimek"},{key:"ime"},{key:"ekipa"},{key:"asistence",sortable:!0},{key:"rebounds",sortable:!0},{key:"tocke",label:"Točke",sortable:!0},{key:"povprecje",label:"Povprečje točk",sortable:!0}]}},methods:{loadLeaders:function(){var e=this;this.rezultati.length>0&&this.igralci.length>0&&(this.liderji=[],this.rezultati.forEach((function(t){var i=e.ekipe.find((function(e){return e.id===t.ekipa}))&&e.ekipe.find((function(e){return e.id===t.ekipa})).naziv||"";if(-1!==e.liderji.findIndex((function(e){return e.id===t.igralec}))){var a=e.liderji.findIndex((function(e){return e.id===t.igralec})),n=e.liderji[a],r=Object.assign({},{id:n.id,ime:n.ime,priimek:n.priimek,ekipa:i,asistence:n.asistence+t.asistence,rebounds:n.rebounds+t.skoki,tocke:n.tocke+t.tocke});e.liderji[a]=r}else{var o=e.igralci.find((function(e){return e.id===t.igralec}));o&&e.liderji.push({id:t.igralec,ime:o.ime,priimek:o.priimek,ekipa:i,asistence:t.asistence,rebounds:t.skoki,tocke:t.tocke})}}))),this.liderji.sort((function(e,t){return e.tocke>t.tocke?-1:e.tocke<t.tocke?1:0})),this.liderji.forEach((function(t){t.povprecje=e.getAvg(t)}))},liderSelected:function(e){this.$router.push("/igralci/"+e[0].id)},getAvg:function(e){var t=0,i=this.rezultati.filter((function(t){return t.igralec===e.id}));return i.forEach((function(e){return t+=e.tocke})),(t/i.length).toFixed(2)}},firestore:function(){return{ekipe:v["db"].collection("ekipe"),tekme:v["db"].collection("tekme"),rezultati:v["db"].collection("rezultat"),igralci:v["db"].collection("igralci")}},watch:{rezultati:function(){this.loadLeaders()},igralci:function(){this.loadLeaders()}},computed:{ekipeZLogom:function(){var e=[];return this.ekipe.forEach((function(t){t.logo&&e.push(t)})),e},allowEdit:function(){return!!l.a.auth().currentUser&&"jneki@neki.com"===l.a.auth().currentUser.email}}},g=h,_=Object(d["a"])(g,m,b,!1,null,"bc855b28",null),w=_.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"justify-content-center"},[i("b-col",{attrs:{lg:"4",cols:"auto"}},[i("b-form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[i("h1",{staticClass:"my-3"},[e._v("Prijava")]),i("b-form-group",{attrs:{label:"E-mail"}},[i("b-form-input",{attrs:{type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),i("b-form-group",{attrs:{label:"Geslo"}},[i("b-form-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),i("b-row",{staticClass:"justify-content-center mb-3"},[i("b-col",{attrs:{cols:"auto"}},[i("b-btn",{attrs:{type:"submit"}},[e._v("Prijava")])],1)],1)],1)],1)],1)],1)},y=[],j={name:"Login",data:function(){return{email:null,password:null}},methods:{loginUser:function(){var e=this;this.$store.dispatch("userSignIn",{email:this.email,password:this.password}).then((function(t){e.$router.go()})).catch((function(t){e.showSnackbar(t)}))}}},E=j,x=Object(d["a"])(E,z,y,!1,null,"3042756a",null),I=x.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("\n    "+e._s(e.user)+"\n    "),i("v-btn",{on:{click:e.signOut}},[e._v("Sign out")])],1)},S=[],D={name:"Secret",methods:{signOut:function(){var e=this;l.a.auth().signOut().then((function(){e.$store.state.user=null,e.$router.replace("/")}))}},computed:{user:function(){return this.$store.state.user}}},T=D,O=Object(d["a"])(T,$,S,!1,null,"9f41162e",null),C=O.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{"justify-center":"",row:"","fill-height":""}},[i("v-flex",{attrs:{sm12:"",md6:"",lg4:""}},[i("v-form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[i("v-text-field",{attrs:{label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("v-text-field",{attrs:{label:"Geslo",required:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),i("v-btn",{attrs:{color:"primary",type:"submit"}},[e._v("Ustvari račun")]),e._v("\n            Ali že imaš račun?\n            "),i("router-link",{attrs:{to:"/login",flat:""}},[e._v(" Prijavi se")])],1)],1),i("v-snackbar",{attrs:{bottom:"",color:e.color,timeout:e.timeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n        "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)},F=[],V={name:"Signup",data:function(){return{email:null,password:null,snackbar:!1,color:"error",timeout:6e3,text:"Wrong email and password combination"}},methods:{loginUser:function(){this.text="Registracija neomogočena",this.snackbar=!0},showSnackbar:function(e){this.text=e.message,this.snackbar=!0}}},U=V,N=Object(d["a"])(U,P,F,!1,null,"851cdcb2",null),M=N.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"mt-3"},[i("b-col",[i("h1",[e._v("O strani")])])],1),i("b-row",[i("b-col",[i("p",[e._v("Davix Borštner🍆")])])],1)],1)},R=[],Z={},A=Object(d["a"])(Z,L,R,!1,null,null,null),q=A.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user?i("b-container",[i("v-layout",{staticClass:"mb-3",attrs:{row:""}},[i("v-flex",{attrs:{xs12:""}},[i("h1",[e._v("Vpis podatkov")])])],1),i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"pa-3",attrs:{xs12:"",md6:""}},[i("h3",[e._v("Dvorane")]),i("v-text-field",{attrs:{type:"number",label:"Kapaciteta"},model:{value:e.newDvorana.kapaciteta,callback:function(t){e.$set(e.newDvorana,"kapaciteta",t)},expression:"newDvorana.kapaciteta"}}),i("v-text-field",{attrs:{label:"Naziv"},model:{value:e.newDvorana.naziv,callback:function(t){e.$set(e.newDvorana,"naziv",t)},expression:"newDvorana.naziv"}}),i("v-text-field",{attrs:{label:"Kraj"},model:{value:e.newDvorana.kraj,callback:function(t){e.$set(e.newDvorana,"kraj",t)},expression:"newDvorana.kraj"}}),i("v-btn",{on:{click:e.addDvorana}},[e._v("Dodaj dvorano")])],1),i("v-flex",{staticClass:"pa-3",attrs:{xs12:"",md6:""}},[i("h3",[e._v("Trenerji")]),i("v-text-field",{attrs:{label:"Ime"},model:{value:e.newTrener.ime,callback:function(t){e.$set(e.newTrener,"ime",t)},expression:"newTrener.ime"}}),i("v-text-field",{attrs:{label:"Priimek"},model:{value:e.newTrener.priimek,callback:function(t){e.$set(e.newTrener,"priimek",t)},expression:"newTrener.priimek"}}),i("v-btn",{on:{click:e.addTrener}},[e._v("Dodaj trenerja")])],1),i("v-flex",{staticClass:"pa-3",attrs:{xs12:"",md6:""}},[i("h3",[e._v("Ekipe")]),i("v-select",{attrs:{"item-value":"id",items:e.trenerji,label:"Trenerji"},model:{value:e.newEkipa.trener,callback:function(t){e.$set(e.newEkipa,"trener",t)},expression:"newEkipa.trener"}}),i("v-select",{attrs:{"item-value":"id",items:e.dvorane,label:"Dvorane"},model:{value:e.newEkipa.dvorana,callback:function(t){e.$set(e.newEkipa,"dvorana",t)},expression:"newEkipa.dvorana"}}),i("v-text-field",{attrs:{label:"Naziv"},model:{value:e.newEkipa.naziv,callback:function(t){e.$set(e.newEkipa,"naziv",t)},expression:"newEkipa.naziv"}}),i("v-text-field",{attrs:{label:"Opis"},model:{value:e.newEkipa.opis,callback:function(t){e.$set(e.newEkipa,"opis",t)},expression:"newEkipa.opis"}}),i("v-text-field",{attrs:{label:"Logo"},model:{value:e.newEkipa.logo,callback:function(t){e.$set(e.newEkipa,"logo",t)},expression:"newEkipa.logo"}}),i("v-btn",{on:{click:e.addEkipa}},[e._v("Dodaj ekipo")])],1),i("v-flex",{staticClass:"pa-3",attrs:{xs12:"",md6:""}},[i("h3",[e._v("Igralci")]),i("v-text-field",{attrs:{label:"Ime"},model:{value:e.newIgralec.ime,callback:function(t){e.$set(e.newIgralec,"ime",t)},expression:"newIgralec.ime"}}),i("v-text-field",{attrs:{label:"Priimek"},model:{value:e.newIgralec.priimek,callback:function(t){e.$set(e.newIgralec,"priimek",t)},expression:"newIgralec.priimek"}}),i("v-text-field",{attrs:{label:"Slika"},model:{value:e.newIgralec.slika,callback:function(t){e.$set(e.newIgralec,"slika",t)},expression:"newIgralec.slika"}}),i("v-text-field",{attrs:{label:"Teža"},model:{value:e.newIgralec.teza,callback:function(t){e.$set(e.newIgralec,"teza",t)},expression:"newIgralec.teza"}}),i("v-text-field",{attrs:{label:"Višina"},model:{value:e.newIgralec.visina,callback:function(t){e.$set(e.newIgralec,"visina",t)},expression:"newIgralec.visina"}}),i("v-select",{attrs:{"item-text":"pozicija","item-value":"id",items:e.pozicije,label:"Pozicija"},model:{value:e.newIgralec.pozicija,callback:function(t){e.$set(e.newIgralec,"pozicija",t)},expression:"newIgralec.pozicija"}}),i("v-select",{attrs:{"item-text":"naziv","item-value":"id",items:e.ekipe,label:"Ekipa"},model:{value:e.newIgralec.ekipa,callback:function(t){e.$set(e.newIgralec,"ekipa",t)},expression:"newIgralec.ekipa"}}),i("v-btn",{on:{click:e.addIgralec}},[e._v("Dodaj igralca")])],1)],1)],1):e._e()},G=[],J=i("a34a"),K=i.n(J);function W(e,t,i,a,n,r,o){try{var l=e[r](o),c=l.value}catch(s){return void i(s)}l.done?t(c):Promise.resolve(c).then(a,n)}function H(e){return function(){var t=this,i=arguments;return new Promise((function(a,n){var r=e.apply(t,i);function o(e){W(r,a,n,o,l,"next",e)}function l(e){W(r,a,n,o,l,"throw",e)}o(void 0)}))}}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Y={name:"DataInput",data:function(){var e;return e={newDvorana:{kapaciteta:null,naziv:null,kraj:null},newTrener:{ime:null,priimek:null},trenerji:[],dvorane:[],ekipaTrener:{id:null,ime:"",priimek:""},newEkipa:{trener:null,dvorana:null,logo:null,naziv:null,opis:null}},Q(e,"newDvorana",{kapaciteta:null,kraj:null,naziv:null}),Q(e,"newIgralec",{ime:null,pozicija:null,priimek:null,slika:null,teza:null,visina:null,ekipa:null}),Q(e,"pozicije",[]),Q(e,"ekipe",[]),e},methods:{addDvorana:function(){v["db"].collection("dvorane").add(this.newDvorana),this.newDvorana={kapaciteta:null,naziv:null,kraj:null}},addTrener:function(){v["db"].collection("trener").add(this.newTrener),this.newTrener={ime:null,priimek:null}},addEkipa:function(){v["db"].collection("ekipe").add(this.newEkipa),this.newEkipa={trener:null,dvorana:null,logo:null,naziv:null,opis:null}},addIgralec:function(){v["db"].collection("igralci").add(this.newIgralec)}},firestore:function(){return{pozicije:v["db"].collection("pozicija"),ekipe:v["db"].collection("ekipe")}},watch:{ekipaTrener:function(e){console.log(e)}},computed:{user:function(){return this.$store.state.user}},mounted:function(){var e=H(K.a.mark((function e(){var t,i,a=this;return K.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["db"].collection("trener").get();case 2:return t=e.sent,t.docs.forEach((function(e){var t=e.data();a.trenerji.push({id:e.id,ime:t.ime,priimek:t.priimek,text:t.ime+" "+t.priimek})})),e.next=6,v["db"].collection("dvorane").get();case 6:i=e.sent,i.docs.forEach((function(e){var t=e.data();a.dvorane.push({id:e.id,kapaciteta:t.kapaciteta,naziv:t.naziv,kraj:t.kraj,text:t.naziv+" "+t.kraj})}));case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},X=Y,ee=Object(d["a"])(X,B,G,!1,null,"7cb993b7",null),te=ee.exports,ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"my-3"},[i("b-col",[i("h1",[e._v("Vsi igralci")])])],1),i("b-row",[i("b-col",[i("b-table",{attrs:{items:e.igralci},scopedSlots:e._u([{key:"slika",fn:function(e){return[i("b-img",{attrs:{src:e.item.slika,height:"20"}})]}}])})],1)],1)],1)},ae=[],ne={name:"Players",data:function(){return{igralci:[]}},firestore:function(){return{igralci:v["db"].collection("igralci")}}},re=ne,oe=Object(d["a"])(re,ie,ae,!1,null,"9903f064",null),le=oe.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"my-3"},[i("b-col",[i("h1",[e._v(e._s(e.igralec.ime)+" "+e._s(e.igralec.priimek))])])],1),i("b-row",{attrs:{"align-v":"center"}},[i("b-col",{attrs:{xs:"6",md:"3",lg:"2"}},[i("b-img",{attrs:{src:e.igralec.slika}})],1),e.ekipa&&e.igralec&&e.pozicija?i("b-col",{staticClass:"ml-5"},[i("b",[e._v("Pozicija")]),e._v(": "+e._s(e.pozicija.pozicija)+" "),i("br"),i("b",[e._v("Ekipa")]),e._v(": "+e._s(e.ekipa.naziv)+" "),i("br"),i("b",[e._v("Teža")]),e._v(": "+e._s(e.igralec.teza)+" "),i("br"),i("b",[e._v("Višina")]),e._v(": "+e._s(e.igralec.visina)+"\n        ")]):e._e()],1),i("b-row",{staticClass:"my-3"},[i("b-col",[i("h3",[e._v("Zadnje tekme")])])],1),i("b-row",[i("b-col",[i("b-table",{attrs:{selectable:"","select-mode":"single",selectedVariant:"success",items:e.nastopi,fields:e.tekmeFields},on:{"row-selected":e.nastopSelected},scopedSlots:e._u([e.igralec?{key:"cell(proti)",fn:function(t){return[e._v("\n                    "+e._s(e.findNasprotnaEkipa(t.item))+"\n                ")]}}:null,{key:"cell(rezultat)",fn:function(t){return[e._v("\n                    "+e._s(e.findRezultatTekme(t.item))+"\n                ")]}}],null,!0)})],1)],1)],1)},se=[],ue={name:"Player",data:function(){return{igralec:{},pozicija:{pozicija:null},ekipa:null,nastopi:[],tekmeFields:[{key:"proti",label:"Nasprotnik"},{key:"rezultat"},{key:"1pp",label:"PM",sortable:!0},{key:"2pp",label:"2T",sortable:!0},{key:"3pp",label:"3T",sortable:!0},{key:"skoki",sortable:!0},{key:"asistence",sortable:!0},{key:"tocke",label:"Točke",sortable:!0}],tekme:[]}},computed:{id:function(){return this.$route.params.id}},methods:{nastopSelected:function(e){this.$router.push("/zapisniki/"+e[0].tekma)},findNasprotnaEkipa:function(e){var t=this.tekme.find((function(t){return t.id===e.tekma}));return this.ekipa.id===t.ekipa1?this.ekipe.find((function(e){return e.id===t.ekipa2})).naziv:this.ekipe.find((function(e){return e.id===t.ekipa1})).naziv},findRezultatTekme:function(e){var t=this.tekme.find((function(t){return t.id===e.tekma}));return t.tocke1+":"+t.tocke2}},firestore:function(){return{igralec:v["db"].collection("igralci").doc(this.$route.params.id),tekme:v["db"].collection("tekme"),ekipe:v["db"].collection("ekipe")}},watch:{igralec:function(e){e&&e.pozicija&&e.ekipa&&(this.$bind("pozicija",v["db"].collection("pozicija").doc(e.pozicija)),this.$bind("ekipa",v["db"].collection("ekipe").doc(e.ekipa)),this.$bind("nastopi",v["db"].collection("rezultat").where("igralec","==",e.id)))}}},de=ue,ke=Object(d["a"])(de,ce,se,!1,null,"c882d8f6",null),pe=ke.exports,fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[e.ekipa&&e.trener&&e.dvorana?i("div",[i("b-row",{staticClass:"my-3"},[i("b-col",[i("h1",[e._v(e._s(e.ekipa.naziv))])])],1),i("b-row",{attrs:{"align-v":"center"}},[i("b-col",{attrs:{xs:"6",md:"2"}},[i("b-img",{staticStyle:{width:"100%"},attrs:{src:e.ekipa.logo}})],1),i("b-col",[i("b",[e._v("Dvorana:")]),e._v(" "+e._s(e.dvorana.naziv)),i("br"),i("b",[e._v("Trener:")]),e._v(" "+e._s(e.trener.ime+" "+e.trener.priimek)),i("br")]),i("b-col",[i("h3",{staticClass:"mb-3"},[e._v("Tekme")]),i("b-table",{attrs:{fields:e.tekmeFields,items:e.tekme},scopedSlots:e._u([{key:"cell(nasprotnik)",fn:function(t){return[e._v("\n                        "+e._s(t.item.ekipa1===e.$route.params.id?e.getEkipa(t.item.ekipa2):e.getEkipa(t.item.ekipa1))+"\n                    ")]}},{key:"cell(zapisnik)",fn:function(t){return[i("b-btn",{attrs:{to:"/zapisniki/"+t.item.id,variant:"success"}},[e._v(e._s(e.allowEdit?"Zapisnik":"Rezultati"))])]}},{key:"cell(rezultat)",fn:function(t){return[e._v("\n                        "+e._s(t.item.tocke1)+":"+e._s(t.item.tocke2)+"\n                    ")]}},{key:"cell(stevilka)",fn:function(t){return[e._v("\n                        "+e._s(t.item.tocke1)+":"+e._s(t.item.tocke2)+"\n                    ")]}}],null,!1,2931633381)})],1)],1),i("b-row",[i("b-col",[i("h3",{staticClass:"mb-3"},[e._v("Seznam igralcev:")]),i("b-table",{attrs:{selectable:"","select-mode":"single",selectedVariant:"success",fields:e.igralciFields,items:e.igralci},on:{"row-selected":e.igralecSelected},scopedSlots:e._u([{key:"cell(igralec)",fn:function(t){return[e._v("\n                        "+e._s(t.item.ime+" "+t.item.priimek)+"\n                    ")]}},{key:"cell(profilka)",fn:function(e){return[i("b-img",{attrs:{height:"30",src:e.item.slika}})]}},{key:"cell(visina)",fn:function(t){return[e._v("\n                        "+e._s(t.item.visina+" cm")+"\n                    ")]}},{key:"cell(teza)",fn:function(t){return[e._v("\n                        "+e._s(t.item.teza+" kg")+"\n                    ")]}},{key:"cell(pozicija)",fn:function(t){return[e._v("\n                        "+e._s(e.getPozicija(t.item.pozicija))+"\n                    ")]}},{key:"cell(stevilka)",fn:function(t){return[e._v("\n                        "+e._s(t.index+1)+"\n                    ")]}}],null,!1,2557522197)})],1)],1)],1):e._e()])},me=[],be={name:"Team",data:function(){return{ekipa:null,trener:null,dvorana:null,pozicija:{pozicija:null},igralci:[],tekme:[],igralciFields:[{key:"stevilka",label:"Številka"},{key:"igralec",label:"Ime in priimek"},{key:"profilka",label:""},{key:"visina",label:"Višina"},{key:"teza",label:"Teža"},{key:"pozicija",label:"Igralna pozicija"}],tekmeFields:[{key:"nasprotnik",label:"Nasprotnik"},{key:"rezultat",label:"Rezultat"},{key:"zapisnik",label:"Zapisnik"}],ekipe:[],pozicije:[]}},methods:{getTekme:function(){var e=this;v["db"].collection("tekme").where("ekipa1","==",this.$route.params.id).get().then((function(t){t.forEach((function(t){e.tekme.push(Object.assign({},t.data(),{id:t.id}))}))})),v["db"].collection("tekme").where("ekipa2","==",this.$route.params.id).get().then((function(t){t.forEach((function(t){e.tekme.push(Object.assign({},t.data(),{id:t.id}))}))}))},getPozicija:function(e){return this.pozicije.find((function(t){return t.id===e})).pozicija},getEkipa:function(e){return this.ekipe.filter((function(t){return t.id===e}))[0].naziv},igralecSelected:function(e){this.$router.push("/igralci/"+e[0].id)}},firestore:function(){return{ekipa:v["db"].collection("ekipe").doc(this.$route.params.id),ekipe:v["db"].collection("ekipe"),pozicije:v["db"].collection("pozicija")}},watch:{ekipa:function(e){e.naziv&&(this.$bind("trener",v["db"].collection("trener").doc(e.trener)),this.$bind("dvorana",v["db"].collection("dvorane").doc(e.dvorana)),this.$bind("igralci",v["db"].collection("igralci").where("ekipa","==",this.$route.params.id)),this.getTekme())}},computed:{allowEdit:function(){return!!l.a.auth().currentUser&&"neki@neki.com"===l.a.auth().currentUser.email}}},ve=be,he=Object(d["a"])(ve,fe,me,!1,null,"280cd2ee",null),ge=he.exports,_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",{staticClass:"my-3 justify-content-between"},[i("b-col",{attrs:{cols:"auto"}},[i("h1",[e._v(e._s(e.allowEdit?"Zapisniki":"Pretekle tekme"))])]),i("b-col",{attrs:{cols:"auto"}},[e.allowEdit?i("b-btn",{on:{click:e.showModal}},[e._v("Nova tekma")]):e._e()],1)],1),i("b-row",[i("b-col",[i("b-table",{attrs:{fields:e.tekmeFields,items:e.tekme},scopedSlots:e._u([{key:"cell(ekipa1)",fn:function(t){return[e._v(e._s(e.getEkipa(t.item.ekipa1)))]}},{key:"cell(ekipa2)",fn:function(t){return[e._v(e._s(e.getEkipa(t.item.ekipa2)))]}},{key:"cell(datum)",fn:function(t){return[e._v(e._s(e.getDatum(t.item.datum)))]}},{key:"cell(dvorana)",fn:function(t){return[e._v(e._s(e.getDvorana(t.item.dvorana)))]}},{key:"cell(more)",fn:function(t){return[i("b-btn",{attrs:{to:"/zapisniki/"+t.item.id+"/",variant:"success"}},[e._v(e._s(e.allowEdit?"Zapisnik":"Rezultati"))])]}}])})],1)],1),i("b-modal",{ref:"addMatchModal",attrs:{title:"Nova tekma","hide-footer":""}},[i("b-form",{on:{submit:function(t){return t.preventDefault(),e.addNewMatch(t)}}},[i("b-form-group",{attrs:{label:"Domači"}},[i("b-select",{attrs:{"text-field":"naziv","value-field":"id",options:e.ekipe},model:{value:e.novaTekma.ekipa1,callback:function(t){e.$set(e.novaTekma,"ekipa1",t)},expression:"novaTekma.ekipa1"}})],1),i("b-form-group",{attrs:{label:"Gostje"}},[i("b-select",{attrs:{"text-field":"naziv","value-field":"id",options:e.ekipe},model:{value:e.novaTekma.ekipa2,callback:function(t){e.$set(e.novaTekma,"ekipa2",t)},expression:"novaTekma.ekipa2"}})],1),i("b-form-group",{attrs:{label:"Dvorana"}},[i("b-select",{attrs:{"text-field":"naziv","value-field":"id",options:e.dvorane},model:{value:e.novaTekma.dvorana,callback:function(t){e.$set(e.novaTekma,"dvorana",t)},expression:"novaTekma.dvorana"}})],1),i("b-row",{staticClass:"justify-content-center"},[i("b-col",{attrs:{cols:"auto"}},[i("b-btn",{attrs:{type:"submit",variant:"success"}},[e._v("Dodaj tekmo")])],1)],1)],1)],1)],1)},we=[],ze={name:"MatchInput",data:function(){return{ekipe:[],dvorane:[],tekme:[],novaTekma:{dvorana:null,ekipa1:null,ekipa2:null,datum:new Date,tocke1:0,tocke2:0},tekmeFields:[{key:"ekipa1",label:"Prva ekipa"},{key:"ekipa2",label:"Druga ekipa"},{key:"datum",label:"Datum"},{key:"dvorana",label:"Dvorana"},{key:"more",label:""}]}},methods:{addNewMatch:function(){var e=this;v["db"].collection("tekme").add(this.novaTekma).then((function(t){e.hideModal();var i=e.novaTekma.ekipa1,a=e.novaTekma.ekipa2,n=t.id;v["db"].collection("igralci").where("ekipa","==",i).get().then((function(e){e.forEach((function(e){v["db"].collection("rezultat").add({igralec:e.id,ekipa:i,tekma:n,"1pp":0,"2pp":0,"3pp":0,asistence:0,skoki:0,tocke:0})}))})),v["db"].collection("igralci").where("ekipa","==",a).get().then((function(e){e.forEach((function(e){v["db"].collection("rezultat").add({igralec:e.id,ekipa:a,tekma:n,"1pp":0,"2pp":0,"3pp":0,asistence:0,skoki:0,tocke:0})}))})),e.novaTekma={dvorana:null,ekipa1:null,ekipa2:null,datum:new Date}}))},showModal:function(){this.$refs.addMatchModal.show()},hideModal:function(){this.$refs.addMatchModal.hide()},getEkipa:function(e){return this.ekipe.filter((function(t){return t.id===e}))[0].naziv},getDatum:function(e){var t=new Date(1970,0,1);return t.setSeconds(e.seconds),t.toDateString()},getDvorana:function(e){return this.dvorane.filter((function(t){return t.id===e}))[0].naziv},showZapisnik:function(e){this.$router.push(e+"/")}},firestore:function(){return{ekipe:v["db"].collection("ekipe"),dvorane:v["db"].collection("dvorane"),tekme:v["db"].collection("tekme")}},watch:{"novaTekma.ekipa1":function(e){this.novaTekma.dvorana=this.ekipe.filter((function(t){return t.id===e}))[0].dvorana}},computed:{allowEdit:function(){return!!l.a.auth().currentUser&&"neki@neki.com"===l.a.auth().currentUser.email}}},ye=ze,je=Object(d["a"])(ye,_e,we,!1,null,"61817366",null),Ee=je.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",{attrs:{fluid:""}},[i("b-row",{staticClass:"my-3 justify-content-between"},[i("b-col",{attrs:{xs:"12",md:"4"}},[e.prvaEkipa?i("h2",[i("b-img",{staticClass:"my-3",attrs:{height:"100",src:e.prvaEkipa.logo}}),i("p",[e._v(e._s(e.prvaEkipa.naziv))])],1):e._e()]),e.tekma?i("b-col",{staticClass:"text-center",attrs:{xs:"12",md:"4"}},[i("h1",{staticStyle:{position:"relative",top:"26%"}},[e._v(e._s(e.tekma.tocke1)+" : "+e._s(e.tekma.tocke2))]),i("br"),i("h5",{staticClass:"mt-3"},[i("router-link",{attrs:{to:"live/"}},[e._v("Živi podatki")])],1)]):e._e(),i("b-col",{attrs:{xs:"12",md:"4"}},[e.drugaEkipa?i("h2",[i("b-img",{staticClass:"my-3",attrs:{height:"100",src:e.drugaEkipa.logo}}),i("p",[e._v(e._s(e.drugaEkipa.naziv))])],1):e._e()])],1),i("b-row",[i("b-col",[i("b-tabs",{attrs:{fill:""}},[i("b-tab",{attrs:{title:e.prvaNaziv.naziv}},[i("b-row",{staticClass:"mb-5"},[i("b-col",[i("br"),e.prvaEkipa&&e.tekma?i("match-player-table",{attrs:{tocke1:e.tekma.tocke1,tocke2:e.tekma.tocke2,ekipaNum:"1",ekipaId:e.prvaEkipa.id,tekmaId:e.tekma.id}}):e._e()],1)],1)],1),i("b-tab",{attrs:{title:e.drugaNaziv.naziv}},[i("b-row",{staticClass:"mb-5"},[i("b-col",[i("br"),e.drugaEkipa&&e.tekma?i("match-player-table",{attrs:{tocke1:e.tekma.tocke1,tocke2:e.tekma.tocke2,ekipaNum:"2",ekipaId:e.drugaEkipa.id,tekmaId:e.tekma.id}}):e._e()],1)],1)],1)],1)],1)],1)],1)},Ie=[];function $e(e){return $e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}var Se={name:"Match",data:function(){return{tekma:{dvorana:null,ekipa1:null,ekipa2:null,datum:null},dvorana:null,prvaEkipa:null,drugaEkipa:null,igralci1:[],igralci2:[],rezultati1:[],rezultati2:[]}},firestore:function(){return{tekma:v["db"].collection("tekme").doc(this.$route.params.id)}},computed:{scorePrva:function(){var e=0;return this.rezultati1.forEach((function(t){return e+=t.tocke})),e},scoreDruga:function(){var e=0;return this.rezultati2.forEach((function(t){return e+=t.tocke})),e},prvaNaziv:function(){return this.prvaEkipa||{naziv:""}},drugaNaziv:function(){return this.drugaEkipa||{naziv:""}}},watch:{tekma:function(e,t){var i=this;null!=e&&void 0!=$e(e)&&(t.dvorana!=e.dvorana&&v["db"].collection("dvorane").doc(e.dvorana).get().then((function(e){e.exists&&(i.dvorana=Object.assign(e.data(),{id:e.id}))})),t.ekipa1!=e.ekipa1&&v["db"].collection("ekipe").doc(e.ekipa1).get().then((function(e){e.exists&&(i.prvaEkipa=Object.assign(e.data(),{id:e.id}))})),t.ekipa2!=e.ekipa2&&v["db"].collection("ekipe").doc(e.ekipa2).get().then((function(e){e.exists&&(i.drugaEkipa=Object.assign(e.data(),{id:e.id}))})))},prvaEkipa:function(e){this.prvaEkipa&&(this.$bind("igralci1",v["db"].collection("igralci").where("ekipa","==",e.id)),this.$bind("rezultati1",v["db"].collection("rezultat").where("ekipa","==",e.id).where("tekma","==",this.tekma.id)))},drugaEkipa:function(e){this.drugaEkipa&&(this.$bind("igralci2",v["db"].collection("igralci").where("ekipa","==",e.id)),this.$bind("rezultati2",v["db"].collection("rezultat").where("ekipa","==",e.id).where("tekma","==",this.tekma.id)))}}},De=Se,Te=Object(d["a"])(De,xe,Ie,!1,null,"f5dacb78",null),Oe=Te.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",[i("b-row",[i("b-col",[i("b-row",{attrs:{"align-v":"end","align-h":"between"}},[e.prvaEkipa?i("b-col",{attrs:{cols:"auto"}},[i("b-img",{attrs:{src:e.prvaEkipa.logo}}),i("h2",[e._v(e._s(e.prvaEkipa.naziv))]),i("h1",[e._v(e._s(e.tekma.tocke1))])],1):e._e(),e.drugaEkipa?i("b-col",{attrs:{cols:"auto"}},[i("b-img",{attrs:{src:e.drugaEkipa.logo}}),i("h2",[e._v(e._s(e.drugaEkipa.naziv))]),i("h1",[e._v(e._s(e.tekma.tocke2))])],1):e._e()],1)],1)],1),i("b-row",[i("b-col",[e.igralci.length&&e.ekipe.length?i("b-table",{attrs:{fields:e.fields,items:e.dogodki},scopedSlots:e._u([{key:"cell(igralec)",fn:function(t){return[e._v(e._s(e.getIgralec(t.item.igralec).priimek+" "+e.getIgralec(t.item.igralec).ime))]}},{key:"cell(dogodek)",fn:function(t){return[e._v(e._s(e.getDogodek(t.item.dogodek)))]}},{key:"cell(ekipa)",fn:function(t){return[e._v(e._s(e.ekipe.find((function(i){return i.id==e.getIgralec(t.item.igralec).ekipa})).naziv))]}}],null,!1,951813501)}):e._e()],1)],1)],1)},Pe=[];function Fe(e){return Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var Ve={name:"Match",data:function(){return{tekma:{dvorana:null,ekipa1:null,ekipa2:null,datum:null},dvorana:null,prvaEkipa:null,drugaEkipa:null,igralci:[],rezultati1:[],rezultati2:[],fields:[{key:"rezultat",label:"Rezultat"},{key:"igralec",label:"Igralec"},{key:"ekipa",label:"Ekipa"},{key:"dogodek",label:"Dogodek"}],dogodki:[],itemsDogodki:[],ekipe:[]}},methods:{getIgralec:function(e){return this.igralci.find((function(t){return t.id==e}))},getDogodek:function(e){switch(e){case"as":return"Igralec je asistiral.";case"skoki":return"Igralec je skočil.";case"1pp":return"Igralec je zadel prosti met.";case"2pp":return"Igralec je zadel met za 2 točki.";case"3pp":return"Igralec je zadel trojko."}}},firestore:function(){return{tekma:v["db"].collection("tekme").doc(this.$route.params.id),dogodki:v["db"].collection("tekma-dogodek").orderBy("cas","desc").where("tekma","==",this.$route.params.id),igralci:v["db"].collection("igralci"),ekipe:v["db"].collection("ekipe")}},watch:{tekma:function(e,t){var i=this;null!=e&&void 0!=Fe(e)&&(e.ekipa1!=t.ekipa1&&v["db"].collection("ekipe").doc(e.ekipa1).get().then((function(e){e.exists&&(i.prvaEkipa=Object.assign(e.data(),{id:e.id}))})),e.ekipa2!=t.ekipa2&&v["db"].collection("ekipe").doc(e.ekipa2).get().then((function(e){e.exists&&(i.drugaEkipa=Object.assign(e.data(),{id:e.id}))})))},prvaEkipa:function(e){},drugaEkipa:function(e){}}},Ue=Ve,Ne=Object(d["a"])(Ue,Ce,Pe,!1,null,null,null),Me=Ne.exports;a["default"].use(f["a"]);var Le=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:w},{path:"/about/",name:"about",component:q},{path:"/login/",name:"login",component:I,meta:{noAuth:!0}},{path:"/signup/",name:"signup",component:M,meta:{noAuth:!0}},{path:"/secret/",name:"secret",component:C,meta:{requiresAuth:!0}},{path:"/datainput/",name:"datainput",component:te,meta:{requiresAuth:!0}},{path:"/igralci/",name:"igralci",component:le},{path:"/igralci/:id/",name:"igralec",component:pe},{path:"/ekipe/:id/",name:"ekipa",component:ge},{path:"/zapisniki/",name:"zapisniki",component:Ee},{path:"/zapisniki/:id/",name:"zapisnik",component:Oe},{path:"/zapisniki/:id/live/",name:"zapisnik_live",component:Me}]});Le.beforeEach((function(e,t,i){var a=l.a.auth().currentUser,n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&!a?i("login"):i()}));var Re=Le,Ze=i("2f62"),Ae=i("1543");a["default"].use(Ze["a"]);var qe,Be=new Ze["a"].Store({state:{appTitle:"Varuška.si",user:null,error:null,loading:!1},mutations:{setUser:function(e,t){e.user=t},setError:function(e,t){e.error=t},setLoading:function(e,t){e.loading=t}},actions:{userSignUp:function(e,t){var i=e.commit;return new Promise((function(e,a){i("setLoading",!0),Ae.auth.createUserWithEmailAndPassword(t.email,t.password).then((function(t){i("setUser",{email:t.user.email}),i("setLoading",!1),Re.push("/"),e(data)})).catch((function(e){i("setError",e.message),i("setLoading",!1),a(e)}))}))},userSignIn:function(e,t){var i=e.commit;return new Promise((function(e,a){i("setLoading",!0),Ae.auth.signInWithEmailAndPassword(t.email,t.password).then((function(t){i("setUser",{email:t.user.email}),i("setLoading",!1),i("setError",null),e(t),Re.push("/")})).catch((function(e){i("setError",e.message),i("setLoading",!1),a(e)}))}))},autoSignIn:function(e,t){var i=e.commit;i("setUser",{email:t.email})}},getters:{}}),Ge=i("5f5b"),Je=(i("f9e3"),i("2dd8"),i("ecee")),Ke=i("c074"),We=i("ad3d"),He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-row",[i("b-col",[i("b-table",{attrs:{responsive:"",fields:e.igralciFields,items:e.igralci},scopedSlots:e._u([{key:"cell(pozicija)",fn:function(t){return[e._v(e._s(t.value))]}},{key:"cell(igralec)",fn:function(t){return[e._v(e._s(t.item.priimek+" "+t.item.ime))]}},{key:"cell(1pp)",fn:function(t){return[e._v("\n        "+e._s(e.getRezultat(t.item.id)["1pp"])+"\n        "),e.allowEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(i){return e.incrementScore("1pp",t.item.id,1)}}},[e._v("+")]):e._e(),e.allowEdit?i("b-btn",{staticClass:"ml-1",on:{click:function(i){return e.incrementScore("1pp",t.item.id,-1)}}},[e._v("-")]):e._e()]}},{key:"cell(2pp)",fn:function(t){return[e._v("\n        "+e._s(e.getRezultat(t.item.id)["2pp"])+"\n        "),e.allowEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(i){return e.incrementScore("2pp",t.item.id,1)}}},[e._v("+")]):e._e(),e.allowEdit?i("b-btn",{staticClass:"ml-1",on:{click:function(i){return e.incrementScore("2pp",t.item.id,-1)}}},[e._v("-")]):e._e()]}},{key:"cell(3pp)",fn:function(t){return[e._v("\n        "+e._s(e.getRezultat(t.item.id)["3pp"])+"\n        "),e.allowEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(i){return e.incrementScore("3pp",t.item.id,1)}}},[e._v("+")]):e._e(),e.allowEdit?i("b-btn",{staticClass:"ml-1",on:{click:function(i){return e.incrementScore("3pp",t.item.id,-1)}}},[e._v("-")]):e._e()]}},{key:"cell(asistence)",fn:function(t){return[e._v("\n        "+e._s(e.getRezultat(t.item.id)["asistence"])+"\n        "),e.allowEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(i){return e.incrementScore("as",t.item.id,1)}}},[e._v("+")]):e._e(),e.allowEdit?i("b-btn",{staticClass:"ml-1",on:{click:function(i){return e.incrementScore("as",t.item.id,-1)}}},[e._v("-")]):e._e()]}},{key:"cell(skoki)",fn:function(t){return[e._v("\n        "+e._s(e.getRezultat(t.item.id)["skoki"])+"\n        "),e.allowEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(i){return e.incrementScore("skoki",t.item.id,1)}}},[e._v("+")]):e._e(),e.allowEdit?i("b-btn",{staticClass:"ml-1",on:{click:function(i){return e.incrementScore("skoki",t.item.id,-1)}}},[e._v("-")]):e._e()]}},{key:"cell(tocke)",fn:function(t){return[e._v(e._s(e.getRezultat(t.item.id)["tocke"]))]}}])})],1)],1)},Qe=[],Ye={name:"MatchPlayerTable",props:["tekmaId","ekipaId","ekipaNum","tocke1","tocke2"],data:function(){return{igralci:[],ekipa:null,rezultati:[],igralciFields:["igralec","pozicija","1pp","2pp","3pp","asistence","skoki","tocke"],tekma:null,pozicija:[],pozicijePrepisane:!1}},watch:{igralci:function(e,t){this.changePositions()},pozicija:function(e,t){this.changePositions()}},firestore:function(){return{ekipa:v["db"].collection("ekipe").doc(this.ekipaId),igralci:v["db"].collection("igralci").where("ekipa","==",this.ekipaId),rezultati:v["db"].collection("rezultat").where("tekma","==",this.tekmaId).where("ekipa","==",this.ekipaId),tekma:v["db"].collection("tekme").doc(this.tekmaId),pozicija:v["db"].collection("pozicija")}},computed:{allowEdit:function(){return!!l.a.auth().currentUser&&"neki@neki.com"===l.a.auth().currentUser.email}},methods:{zapisiDogodek:function(e,t,i,a){v["db"].collection("tekma-dogodek").add({cas:t,dogodek:a,igralec:i,rezultat:e,tekma:this.tekmaId})},changePositions:function(){var e=this;this.pozicija.length&&this.igralci.length&&this.igralci.forEach((function(t){t.pozicija=e.pozicija.find((function(i){return e.pozicijePrepisane=!0,i.id==t.pozicija})).pozicija}))},getRezultat:function(e){return this.rezultati.filter((function(t){return t.igralec==e}))[0]||{}},incrementScore:function(e,t,i){var a=this;switch(e){case"1pp":v["db"].collection("rezultat").where("igralec","==",t).where("tekma","==",this.tekmaId).get().then((function(n){n.forEach((function(e){e.ref.update({"1pp":l.a.firestore.FieldValue.increment(i),tocke:l.a.firestore.FieldValue.increment(1)})})),v["db"].collection("tekme").doc(a.tekmaId).get().then((function(n){var r={};1==a.ekipaNum&&Object.assign(r,{tocke1:l.a.firestore.FieldValue.increment(1*i)}),2==a.ekipaNum&&Object.assign(r,{tocke2:l.a.firestore.FieldValue.increment(1*i)}),n.ref.update(r).then((function(){a.zapisiDogodek(a.tocke1+":"+a.tocke2,new Date,t,e)}))}))}));break;case"2pp":v["db"].collection("rezultat").where("igralec","==",t).where("tekma","==",this.tekmaId).get().then((function(n){n.forEach((function(e){e.ref.update({"2pp":l.a.firestore.FieldValue.increment(i),tocke:l.a.firestore.FieldValue.increment(2)})})),v["db"].collection("tekme").doc(a.tekmaId).get().then((function(n){var r={};1==a.ekipaNum&&Object.assign(r,{tocke1:l.a.firestore.FieldValue.increment(2*i)}),2==a.ekipaNum&&Object.assign(r,{tocke2:l.a.firestore.FieldValue.increment(2*i)}),n.ref.update(r).then((function(){a.zapisiDogodek(a.tocke1+":"+a.tocke2,new Date,t,e)}))}))}));break;case"3pp":v["db"].collection("rezultat").where("igralec","==",t).where("tekma","==",this.tekmaId).get().then((function(n){n.forEach((function(e){e.ref.update({"3pp":l.a.firestore.FieldValue.increment(i),tocke:l.a.firestore.FieldValue.increment(3)})})),v["db"].collection("tekme").doc(a.tekmaId).get().then((function(n){var r={};1==a.ekipaNum&&Object.assign(r,{tocke1:l.a.firestore.FieldValue.increment(3*i)}),2==a.ekipaNum&&Object.assign(r,{tocke2:l.a.firestore.FieldValue.increment(3*i)}),n.ref.update(r).then((function(){a.zapisiDogodek(a.tocke1+":"+a.tocke2,new Date,t,e)}))}))}));break;case"as":v["db"].collection("rezultat").where("igralec","==",t).where("tekma","==",this.tekmaId).get().then((function(n){n.forEach((function(n){n.ref.update({asistence:l.a.firestore.FieldValue.increment(i)}).then((function(){a.zapisiDogodek(a.tocke1+":"+a.tocke2,new Date,t,e)}))}))}));break;case"skoki":v["db"].collection("rezultat").where("igralec","==",t).where("tekma","==",this.tekmaId).get().then((function(n){n.forEach((function(n){n.ref.update({skoki:l.a.firestore.FieldValue.increment(i)}).then((function(){a.zapisiDogodek(a.tocke1+":"+a.tocke2,new Date,t,e)}))}))}));break}}}},Xe=Ye,et=Object(d["a"])(Xe,He,Qe,!1,null,"444382a4",null),tt=et.exports,it=i("1543");a["default"].use(Ge["a"]),Je["c"].add(Ke["a"]),a["default"].component("fa-icon",We["a"]),a["default"].component("match-player-table",tt),a["default"].config.productionTip=!1,it.auth.onAuthStateChanged((function(e){qe||(qe=new a["default"]({el:"#app",router:Re,store:Be,render:function(e){return e(p)},created:function(){e&&Be.dispatch("autoSignIn",e)}}))}))},6672:function(e,t,i){}});
//# sourceMappingURL=app.c438a7c4.js.map